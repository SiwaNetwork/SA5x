# MAC SA-53 GUI Monitor - UART Version

## Краткое описание

Специализированная версия программы для мониторинга и тестирования MAC SA-53 через UART интерфейс `/dev/ttyS6`. Программа полностью адаптирована для работы с вашей конфигурацией оборудования и включает все функции из ваших оригинальных скриптов.

## Ключевые особенности UART версии

✅ **Фиксированное подключение** - Автоматическое использование `/dev/ttyS6` без необходимости выбора порта  
✅ **Интеграция с timetickler.py** - Полная совместимость с вашей существующей программой  
✅ **Анализ holdover логов** - Встроенные алгоритмы из parse_holdover_log.py и parse_holdover_log1.py  
✅ **Автоматизированные тесты** - Реализация всех процедур из self_holdover.sh  
✅ **Работа с реальными данными** - Поддержка формата данных из sa53_test.log  

## Быстрый запуск

### 1. Установка зависимостей
```bash
pip3 install -r requirements_gui.txt
```

### 2. Проверка доступа к UART
```bash
# Проверка существования порта
ls -l /dev/ttyS6

# Добавление пользователя в группу dialout (если необходимо)
sudo usermod -a -G dialout $USER
# После этого требуется перелогиниться
```

### 3. Запуск программы
```bash
python3 mac_monitor_gui_uart.py
```

## Основные функции

### Мониторинг в реальном времени
- Автоматическое подключение к `/dev/ttyS6` при запуске
- Мониторинг всех 13 параметров MAC SA-53
- Настраиваемый интервал обновления (0.5-60 сек)
- Автоматическое сохранение данных в CSV формате

### Автоматизированное тестирование
- **Быстрый тест holdover** (5 мин - 24 часа)
- **Тест деградации** с контролируемым ухудшением параметров
- **Полный тест конвергенции** (24-48 часов)
- Автоматический анализ результатов с генерацией отчетов

### Анализ данных
- Автоматическое выявление изменений состояния дисциплинирования
- Расчет статистики для каждого этапа тестирования
- Экспорт данных в CSV и JSON форматах
- Загрузка и повторный анализ сохраненных данных

### Настройка параметров
- Полный контроль всех настраиваемых параметров MAC SA-53
- Валидация входных данных
- Сохранение настроек в EEPROM устройства
- Резервное копирование и восстановление конфигурации

## Интерфейс программы

### Вкладка "Мониторинг"
- Отображение текущих значений всех параметров
- Кнопки управления мониторингом (Старт/Стоп/Сохранить)
- Настройка интервала обновления
- Индикаторы состояния подключения

### Вкладка "Настройки"
- Поля для изменения всех настраиваемых параметров
- Кнопки применения изменений и сохранения в EEPROM
- Функции экспорта и импорта конфигурации
- Кнопка сброса к заводским настройкам

### Вкладка "Тестирование"
- Выбор типа теста и настройка параметров
- Кнопки запуска и остановки тестов
- Индикатор прогресса выполнения
- Просмотр результатов и экспорт отчетов

### Вкладка "Анализ данных"
- Загрузка файлов данных для анализа
- Автоматическое выявление ключевых событий
- Расчет статистических показателей
- Экспорт результатов анализа

### Вкладка "Логи"
- Просмотр логов программы в реальном времени
- Фильтрация по типу сообщений и временному диапазону
- Экспорт логов в различных форматах
- Очистка и архивирование старых записей

## Технические требования

### Операционная система
- Linux (Ubuntu 18.04+, CentOS 7+, Debian 9+)
- Python 3.6 или выше
- Права доступа к последовательным портам

### Аппаратные требования
- Процессор: x86_64, 1 ГГц (рекомендуется 2+ ГГц)
- ОЗУ: 2 ГБ (рекомендуется 4+ ГБ)
- Свободное место: 100 МБ + место для данных
- UART порт `/dev/ttyS6` с подключенным MAC SA-53

### Сетевые требования
- Не требуется подключение к интернету для основной работы
- Опционально: доступ к NTP серверам для синхронизации времени

## Устранение неисправностей

### Проблемы с подключением
```bash
# Проверка доступности порта
ls -l /dev/ttyS6

# Проверка прав доступа
groups $USER | grep dialout

# Проверка занятости порта
sudo lsof /dev/ttyS6
```

### Проблемы с производительностью
- Увеличьте интервал обновления до 5-10 секунд
- Закройте неиспользуемые вкладки программы
- Проверьте загрузку системы командой `top`

### Проблемы с данными
- Проверьте целостность файлов данных
- Убедитесь в наличии свободного места на диске
- Проверьте права записи в рабочую директорию

## Файлы программы

- `mac_monitor_gui_uart.py` - Основной исполняемый файл
- `requirements_gui.txt` - Список зависимостей Python
- `MAC_SA53_UART_Manual.pdf` - Подробная инструкция пользователя
- `test_uart_logic.py` - Скрипт для проверки работоспособности
- `mac_simulator.py` - Симулятор для тестирования без устройства

## Поддержка

Для получения технической поддержки или сообщения об ошибках:
1. Проверьте логи программы на наличие сообщений об ошибках
2. Убедитесь в корректности подключения оборудования
3. Проверьте соответствие системы техническим требованиям
4. Обратитесь к подробной инструкции в PDF файле

## История версий

### v3.0 - UART Version
- Адаптация для фиксированного UART порта `/dev/ttyS6`
- Интеграция функций из timetickler.py
- Реализация алгоритмов анализа из parse_holdover_log.py
- Автоматизация тестов из self_holdover.sh
- Поддержка формата данных sa53_test.log
- Улучшенная система логирования и диагностики

### v2.0 - Enhanced Version
- Добавление автоматизированного тестирования
- Расширенный анализ данных
- Улучшенный пользовательский интерфейс

### v1.0 - Initial Release
- Базовый мониторинг параметров
- Настройка устройства
- Простое логирование данных

