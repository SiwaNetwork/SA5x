# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ Frequency Stability –∏ Allan Deviation

## –ü—Ä–æ–±–ª–µ–º–∞

–î–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥ –∏ CSV —Ñ–∞–π–ª–æ–≤ –Ω–µ –ø–æ–¥–≥—Ä—É–∂–∞–ª–∏—Å—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∏ Frequency Stability –∏ Allan Deviation Analysis. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –Ω–æ –Ω–µ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤.

## –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–ª —Ç–æ–ª—å–∫–æ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. **–§—É–Ω–∫—Ü–∏—è Allan Deviation –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ**: –ù–µ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
3. **JavaScript –∫–æ–¥ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–æ–≤**: –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
4. **–ü–∞—Ä—Å–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª –Ω–∞—É—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é**: –ù–µ –º–æ–≥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ `1.23e-04`

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ –ª–æ–≥–æ–≤

**–§–∞–π–ª**: `sa5x_monitor/utils/log_parser.py`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—É—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏ –≤ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:

```python
# –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–∞—É—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏
r'^(\d+\.?\d*),([+-]?\d+\.?\d*(?:[eE][+-]?\d+)?),([+-]?\d+\.?\d*),([+-]?\d+\.?\d*),([+-]?\d+\.?\d*),(\w+)$'
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§–∞–π–ª**: `sa5x_monitor/web/app.py`

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```python
# –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
self.uploaded_log_data = None
self.uploaded_log_results = None
```

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `_extract_log_data_for_charts()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `_calculate_allan_deviation_from_log()` - —Ä–∞—Å—á–µ—Ç Allan Deviation –∏–∑ –ª–æ–≥–æ–≤

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API endpoints

**–§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã**:
- `/api/chart-data/<chart_type>` - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–æ–≤
- `/api/allan-deviation/<data_type>` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥–æ–≤ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JavaScript

**–§–∞–π–ª**: `sa5x_monitor/web/static/js/app.js`

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `fetchAllanDeviationData()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö Allan Deviation —Å —Å–µ—Ä–≤–µ—Ä–∞
- `updateChartsFromUploadedLog()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ª–æ–≥–æ–≤
- `fetchChartData()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞

### 5. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§—É–Ω–∫—Ü–∏—è `showLogAnalysis()`** —Ç–µ–ø–µ—Ä—å:
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ª–æ–≥–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –ª–æ–≥)

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã `.log`, `.txt`, `.csv`
2. **–ê–Ω–∞–ª–∏–∑ Frequency Stability**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ—Ç—ã
3. **Allan Deviation Analysis**: –†–∞—Å—á–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –ê–ª–ª–∞–Ω–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö tau
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤**: –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤
5. **–ù–∞—É—á–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Ç–∏–ø–∞ `1.23e-04`
6. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –ê–Ω–∞–ª–∏–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, —Ç–æ–∫–∞

### üìä –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞:

```
=== Frequency Analysis ===
Frequency stability: 1.23e-06
Frequency drift rate: 2.60e-10
Frequency error range: 1.22e-04 to 1.26e-04
Frequency error mean: 1.24e-04
Frequency error std: 1.23e-06

=== Allan Deviation Analysis ===
Allan deviation (1s): 1.27e-06
Allan deviations by tau:
  Tau=1s: 1.27e-06
  Tau=10s: 1.27e-06
  Tau=100s: 1.12e-06
  Tau=1000s: 2.12e-06
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥-—Ñ–∞–π–ª–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å SA5X Monitor
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Log Analysis"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –ª–æ–≥–∞ (—Ñ–æ—Ä–º–∞—Ç: timestamp,freq_error,temp,voltage,current,status)
4. –ù–∞–∂–º–∏—Ç–µ "Upload & Analyze"

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –û–±–Ω–æ–≤—è—Ç—Å—è –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ª–æ–≥–∞
- –ü–æ—è–≤–∏—Ç—Å—è –∞–Ω–∞–ª–∏–∑ Frequency Stability
- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è Allan Deviation Analysis
- –ü–æ–∫–∞–∂–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –∏ –ø–∏—Ç–∞–Ω–∏—é

### 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏

- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **–î–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥–æ–≤**: –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

## –§–æ—Ä–º–∞—Ç –ª–æ–≥-—Ñ–∞–π–ª–æ–≤

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:
```
# Format: timestamp,frequency_error,temperature,voltage,current,status
# Timestamp in seconds, frequency error in ppm, temperature in ¬∞C, voltage in V, current in A
0,1.23e-04,25.1,12.0,0.15,LOCKED
10,1.24e-04,25.2,12.0,0.15,LOCKED
20,1.22e-04,25.1,12.0,0.15,LOCKED
...
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
cd sa5x_monitor
python3 test_log_analysis.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –ü–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- –†–∞—Å—á–µ—Ç Allan Deviation
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –ê–Ω–∞–ª–∏–∑ Frequency Stability

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- ‚úÖ Frequency Stability –∞–Ω–∞–ª–∏–∑
- ‚úÖ Allan Deviation –∞–Ω–∞–ª–∏–∑
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö
- ‚úÖ –ù–∞—É—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é –≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ - –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥–æ–≤ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö –∞–Ω–∞–ª–∏–∑–∞ Frequency Stability –∏ Allan Deviation.