# Быстрый старт: Графики SA5X Monitor

## Запуск веб-интерфейса

### 1. Установка зависимостей
```bash
cd sa5x_monitor
pip install -r requirements.txt
```

### 2. Запуск веб-сервера
```bash
cd web
python app.py
```

Веб-интерфейс будет доступен по адресу: http://localhost:8080

## Тестирование графиков

### Демонстрация с симулированными данными
```bash
# Запуск тестового скрипта
python test_graphs.py
```

Этот скрипт генерирует реалистичные данные SA5X и демонстрирует:
- Частотную стабильность с дрейфом и шумом
- Температурные циклы
- Электрические параметры
- Статистический анализ
- Расчет отклонения Аллана

### Тестирование веб-интерфейса

1. **Откройте браузер** и перейдите на http://localhost:8080

2. **Подключитесь к SA5X** (или используйте симулированные данные):
   - Порт: `/dev/ttyS6` (или другой доступный)
   - Скорость: 115200
   - Таймаут: 1.0

3. **Запустите мониторинг**:
   - Нажмите "Start Monitoring"
   - Установите интервал: 10 секунд

4. **Изучите графики**:
   - **Основной график**: Переключайтесь между режимами
   - **График частотной стабильности**: Детальный анализ частоты
   - **График температуры и электрики**: Мониторинг параметров
   - **График отклонения Аллана**: Специализированный анализ

## Типы графиков

### 1. График частотной стабильности
- **Ошибка частоты**: Основная линия данных
- **Скользящее среднее**: Сглаженная линия тренда
- **Анализ**: Стабильность, дрейф, флуктуации

### 2. График электрических параметров
- **Температура**: Основная ось Y (левая)
- **Напряжение**: Вторичная ось Y (правая)
- **Ток**: Третичная ось Y (правая)
- **Анализ**: Стабильность питания, энергопотребление

### 3. График статуса системы
- **Блокировка**: Бинарные данные (0/1)
- **Holdover**: Бинарные данные (0/1)
- **Анализ**: Надежность, режимы работы

### 4. График отклонения Аллана
- **Логарифмическая шкала**: Tau по оси X
- **Отклонение Аллана**: По оси Y
- **Анализ**: Типы шумов, долговременная стабильность

## Статистический анализ

### Основные метрики
- **Стандартное отклонение**: Мера кратковременной стабильности
- **Среднее значение**: Базовый уровень параметра
- **Минимальное/максимальное**: Диапазон изменений
- **Количество точек данных**: Объем собранных данных

### Специализированные метрики
- **Отклонение Аллана**: Стандартная метрика стабильности частоты
- **Коэффициент корреляции**: Связь между параметрами
- **Автокорреляция**: Временная зависимость

## API для разработчиков

### Получение статистики
```bash
curl http://localhost:8080/api/statistics
```

### Получение данных для графиков
```bash
# Данные частотной стабильности
curl http://localhost:8080/api/chart-data/frequency

# Данные электрических параметров
curl http://localhost:8080/api/chart-data/electrical

# Данные статуса системы
curl http://localhost:8080/api/chart-data/status
```

### Расчет отклонения Аллана
```bash
# Для частотных данных
curl http://localhost:8080/api/allan-deviation/frequency

# Для температурных данных
curl http://localhost:8080/api/allan-deviation/temperature
```

### Экспорт данных
```bash
curl http://localhost:8080/api/export-data
```

## Интерпретация результатов

### Хорошая стабильность частоты
- Малые колебания вокруг среднего значения
- Отсутствие систематического дрейфа
- Низкое стандартное отклонение

### Проблемы с частотной стабильностью
- Большие скачки значений
- Систематический дрейф
- Высокое стандартное отклонение

### Нормальная работа температуры
- Стабильная температура в рабочем диапазоне
- Отсутствие резких изменений
- Корреляция с частотной стабильностью

### Проблемы с температурой
- Резкие изменения температуры
- Перегрев или охлаждение
- Отсутствие корреляции с частотой

### Стабильное питание
- Постоянное напряжение в пределах нормы
- Стабильный ток потребления
- Отсутствие колебаний

### Проблемы с питанием
- Колебания напряжения
- Высокий ток потребления
- Нестабильность питания

## Устранение неполадок

### Графики не обновляются
1. Проверьте подключение к SA5X
2. Убедитесь, что мониторинг запущен
3. Проверьте консоль браузера на ошибки

### Нет данных на графиках
1. Проверьте статус подключения
2. Убедитесь, что SA5X передает данные
3. Проверьте настройки порта и скорости

### Ошибки в консоли
1. Проверьте логи сервера
2. Убедитесь, что все зависимости установлены
3. Проверьте права доступа к порту

## Дополнительные ресурсы

- [Документация по графикам](GRAPHS_ANALYSIS.md)
- [API документация](README.md#api-для-графиков)
- [Примеры использования](examples/)
- [Тестовые скрипты](test_graphs.py)